var d=(n,e,t)=>new Promise((a,i)=>{var m=r=>{try{s(t.next(r))}catch(c){i(c)}},u=r=>{try{s(t.throw(r))}catch(c){i(c)}},s=r=>r.done?a(r.value):Promise.resolve(r.value).then(m,u);s((t=t.apply(n,e)).next())});import{renderList as l}from"./utils.js";export default class o{constructor(e,t,a){this.dataSource=e,this.targetElement=t,this.category=a}init(){return d(this,null,function*(){let e=yield this.dataSource.getData(this.category);const t=document.getElementById("product-card-template");l(t,this.targetElement,e,this.prepareTemplate),this.updateHeading(this.category)})}updateHeading(e){document.querySelector(".products>h2").innerHTML+=` ${e[0].toUpperCase()}${e.slice(1).replace("-"," ")}`}filterList(e){const t=["985RF","880RR","985PR","344YJ"],a=e.filter(i=>t.includes(i.Id));return a}prepareTemplate(e,t){return e.querySelector("a").href+=t.Id,e.querySelector("img").src=t.Images.PrimaryLarge,e.querySelector("img").alt+=t.Name,e.querySelector(".card__brand").innerHTML=t.Brand.Name,e.querySelector(".card__name").innerHTML=t.NameWithoutBrand,e.querySelector(".product-card__price").innerHTML+=t.ListPrice,e}}
